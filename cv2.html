<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Priya Taliyan – Portfolio</title>

  <style>
    :root{
      --text-primary:#f3f4f6;
      --text-secondary:#cbd5e1;
      --text-muted:#94a3b8;

      --surface-main:#060812;
      --surface-header:rgba(10,14,20,.70);
      --surface-card:rgba(17,24,39,.62);

      --ring:rgba(255,255,255,.14);
      --ring2:rgba(255,255,255,.10);
      --glass:rgba(255,255,255,.06);

      --accent-a:rgba(34,197,94,.35);
      --accent-b:rgba(99,102,241,.42);
      --accent-c:rgba(168,85,247,.38);

      --shadow: 0 30px 100px rgba(0,0,0,.65);
      --shadow-soft: 0 18px 60px rgba(0,0,0,.45);

      --r-xl: 28px;
      --r-lg: 22px;
      --r-md: 16px;

      --max: 1120px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(1400px 900px at 18% 12%, rgba(99,102,241,.10), transparent 62%),
        radial-gradient(1200px 900px at 82% 52%, rgba(34,197,94,.08), transparent 62%),
        radial-gradient(1200px 900px at 46% 88%, rgba(168,85,247,.08), transparent 62%),
        var(--surface-main);
      color:var(--text-primary);
      overflow-x:hidden;
    }

    /* Cursor halo + trailing glow */
    .cursor-halo{
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index: 9999;
    }
    .halo{
      position:absolute;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(255,255,255,.25);
      mix-blend-mode: screen;
      transform: translate3d(-50%, -50%, 0);
      opacity: .0;
      transition: opacity 220ms ease;
      box-shadow:
        0 0 0 10px rgba(99,102,241,.08),
        0 0 0 22px rgba(168,85,247,.06),
        0 0 60px rgba(99,102,241,.20);
      filter: blur(.2px);
    }
    .halo.big{
      width: 120px;
      height: 120px;
      background: radial-gradient(circle at 30% 30%, rgba(99,102,241,.14), transparent 60%),
                  radial-gradient(circle at 70% 70%, rgba(34,197,94,.10), transparent 60%),
                  radial-gradient(circle at 50% 50%, rgba(168,85,247,.10), transparent 60%);
      opacity: 0;
      transition: opacity 220ms ease;
      box-shadow: none;
      filter: blur(2px);
    }

    /* Animated grain */
    .grain{
      pointer-events:none;
      position:fixed;
      inset:-40%;
      opacity:.16;
      z-index:0;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      transform: translateZ(0);
      animation: grainMove 10s steps(8) infinite;
    }
    @keyframes grainMove{
      0%{ transform: translate3d(-2%, -2%, 0); }
      25%{ transform: translate3d(2%, -1%, 0); }
      50%{ transform: translate3d(1%, 2%, 0); }
      75%{ transform: translate3d(-1%, 1%, 0); }
      100%{ transform: translate3d(-2%, -2%, 0); }
    }

    /* Aurora blobs */
    .aurora{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
      overflow:hidden;
    }
    .blob{
      position:absolute;
      width: 760px;
      height: 760px;
      border-radius: 999px;
      filter: blur(44px);
      opacity:.34;
      transform: translateZ(0);
      animation: float 16s ease-in-out infinite;
    }
    .blob.b1{
      left:-220px;
      top:-260px;
      background: radial-gradient(circle at 30% 30%, rgba(99,102,241,.55), transparent 62%),
                  radial-gradient(circle at 70% 60%, rgba(168,85,247,.38), transparent 62%);
      animation-duration: 18s;
    }
    .blob.b2{
      right:-260px;
      top:140px;
      background: radial-gradient(circle at 40% 40%, rgba(34,197,94,.50), transparent 62%),
                  radial-gradient(circle at 70% 70%, rgba(99,102,241,.30), transparent 62%);
      animation-duration: 20s;
      animation-delay: -4s;
    }
    .blob.b3{
      left: 16%;
      bottom:-460px;
      width: 980px;
      height: 980px;
      background: radial-gradient(circle at 35% 35%, rgba(168,85,247,.45), transparent 62%),
                  radial-gradient(circle at 75% 60%, rgba(34,197,94,.25), transparent 62%);
      animation-duration: 24s;
      animation-delay: -8s;
    }
    @keyframes float{
      0%{ transform: translate3d(0,0,0) scale(1); }
      50%{ transform: translate3d(18px,-22px,0) scale(1.04); }
      100%{ transform: translate3d(0,0,0) scale(1); }
    }

    .wrap{ position:relative; z-index:1; }
    .container{
      max-width: var(--max);
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* Header */
    header{
      position: sticky;
      top: 0;
      z-index: 60;
      background: var(--surface-header);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 1rem 0;
    }
    .brand{
      display:flex;
      gap:.8rem;
      align-items:center;
      text-decoration:none;
      color:var(--text-primary);
    }
    .mark{
      width: 34px; height: 34px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(99,102,241,.40), rgba(168,85,247,.32));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 10px 30px rgba(0,0,0,.45);
      position:relative;
      overflow:hidden;
    }
    .mark::after{
      content:"";
      position:absolute;
      inset:-40%;
      background: linear-gradient(120deg, rgba(255,255,255,.18), transparent 40%, rgba(255,255,255,.10));
      transform: translateX(-35%) rotate(10deg);
      opacity:.6;
      animation: sheen 4.2s ease-in-out infinite;
    }
    @keyframes sheen{
      0%{ transform: translateX(-38%) rotate(10deg); opacity:.45; }
      50%{ transform: translateX(18%) rotate(10deg); opacity:.65; }
      100%{ transform: translateX(-38%) rotate(10deg); opacity:.45; }
    }
    nav strong{ letter-spacing:.2px; font-weight:650; }
    .nav-links a{
      margin-left: 1.1rem;
      text-decoration:none;
      color: var(--text-secondary);
      font-weight: 560;
      padding:.55rem .75rem;
      border-radius: 12px;
      border: 1px solid transparent;
      transition: background 180ms ease, border-color 180ms ease, transform 180ms ease, color 180ms ease;
    }
    .nav-links a:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.10);
      color: var(--text-primary);
      transform: translateY(-1px);
    }

    /* Hero */
    .hero{
      min-height: calc(100vh - 72px);
      display:grid;
      align-items:center;
      padding: 4.2rem 0 2.2rem;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 2.8rem;
      align-items:center;
    }
    .kicker{
      color: var(--text-secondary);
      margin: 0 0 .35rem;
      letter-spacing:.2px;
    }
    .headline{
      font-size: clamp(2.9rem, 6.9vw, 4.7rem);
      margin:.15rem 0 .85rem;
      line-height:1.02;
      letter-spacing:-.9px;
    }
    .subhead{
      color: var(--text-secondary);
      margin: 0 0 1.4rem;
      font-size: 1.05rem;
      line-height:1.65;
      max-width: 58ch;
    }

    /* Magnetic buttons */
    .cta-row{
      display:flex;
      gap:.85rem;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 1.2rem;
    }
    .btn{
      position:relative;
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      padding: .92rem 1.15rem;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text-primary);
      text-decoration:none;
      font-weight: 600;
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
      box-shadow: 0 14px 44px rgba(0,0,0,.30);
      will-change: transform;
    }
    .btn:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.22);
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(99,102,241,.38), rgba(168,85,247,.30));
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 18px 64px rgba(0,0,0,.42);
      overflow:hidden;
    }
    .btn.primary::after{
      content:"";
      position:absolute;
      inset:-40%;
      background: linear-gradient(120deg, rgba(255,255,255,.18), transparent 40%, rgba(255,255,255,.08));
      transform: translateX(-40%) rotate(10deg);
      opacity:.7;
      animation: sheen 4.6s ease-in-out infinite;
      pointer-events:none;
    }

    /* Skills marquee */
    .marquee{
      margin-top: 2.1rem;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 18px;
      overflow:hidden;
      position:relative;
    }
    .marquee::before,
    .marquee::after{
      content:"";
      position:absolute;
      top:0; bottom:0;
      width: 92px;
      pointer-events:none;
      z-index:1;
    }
    .marquee::before{
      left:0;
      background: linear-gradient(90deg, rgba(6,8,18,1), rgba(6,8,18,0));
    }
    .marquee::after{
      right:0;
      background: linear-gradient(270deg, rgba(6,8,18,1), rgba(6,8,18,0));
    }
    .track{
      display:flex;
      gap: .75rem;
      padding: .82rem .6rem;
      width:max-content;
      animation: scroll 18s linear infinite;
    }
    @keyframes scroll{
      0%{ transform: translateX(0); }
      100%{ transform: translateX(-50%); }
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      padding: .55rem .8rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(243,244,246,.92);
      font-size: .86rem;
      white-space:nowrap;
    }
    .dotg{
      width:8px; height:8px; border-radius:999px;
      background: rgba(255,255,255,.35);
      box-shadow: 0 0 0 6px rgba(255,255,255,.08);
    }

    /* HERO right: AI Sphere card */
    .sphere-card{
      border-radius: var(--r-xl);
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      transform: translateZ(0);
    }
    .sphere-card::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(900px at 30% 20%, rgba(99,102,241,.18), transparent 58%),
        radial-gradient(900px at 80% 70%, rgba(34,197,94,.12), transparent 58%),
        radial-gradient(900px at 55% 95%, rgba(168,85,247,.12), transparent 62%);
      opacity:.95;
      filter: blur(10px);
      pointer-events:none;
    }
    .sphere-top{
      position:relative;
      padding: 1.05rem 1.05rem 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 1rem;
    }
    .sphere-title{
      margin:0;
      font-weight: 700;
      letter-spacing:.2px;
      font-size: 1.0rem;
    }
    .sphere-sub{
      margin:.25rem 0 0;
      color: var(--text-secondary);
      font-size: .92rem;
      line-height:1.45;
    }
    .legend{
      display:flex;
      gap:.55rem;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .legend span{
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      padding: .45rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(10,14,20,.52);
      backdrop-filter: blur(14px);
      color: rgba(243,244,246,.90);
      font-size: .78rem;
      white-space:nowrap;
    }
    .key{
      width:10px;
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.30);
      box-shadow: 0 0 0 6px rgba(255,255,255,.08);
    }
    .key.a{ background: rgba(99,102,241,.60); box-shadow: 0 0 0 6px rgba(99,102,241,.14); }
    .key.b{ background: rgba(34,197,94,.55); box-shadow: 0 0 0 6px rgba(34,197,94,.13); }
    .key.c{ background: rgba(168,85,247,.55); box-shadow: 0 0 0 6px rgba(168,85,247,.12); }

    .sphere-wrap{
      position:relative;
      padding: 1.05rem;
    }
    .sphere-canvas{
      width: 100%;
      aspect-ratio: 16/12;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(10,14,20,.55);
      backdrop-filter: blur(16px);
      box-shadow: var(--shadow-soft);
      display:block;
    }
    .sphere-hint{
      position:absolute;
      left: 1.6rem;
      bottom: 1.6rem;
      display:inline-flex;
      gap:.55rem;
      align-items:center;
      padding: .55rem .8rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(10,14,20,.52);
      backdrop-filter: blur(14px);
      color: rgba(243,244,246,.86);
      font-size: .80rem;
      pointer-events:none;
    }
    .spark{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.30);
      box-shadow:
        0 0 0 7px rgba(255,255,255,.07),
        0 0 40px rgba(99,102,241,.25);
    }

    /* Panels */
    section{ margin: 4.6rem 0; }
    .panel{
      border-radius: var(--r-xl);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(17,24,39,.60);
      backdrop-filter: blur(18px);
      box-shadow: var(--shadow);
      padding: 3rem 2.5rem;
      position:relative;
      overflow:hidden;
    }
    .panel::after{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(900px at 18% 12%, rgba(99,102,241,.10), transparent 62%),
        radial-gradient(900px at 85% 70%, rgba(34,197,94,.08), transparent 62%);
      opacity:.9;
      pointer-events:none;
    }
    .panel > *{ position:relative; }

    .section-title{
      margin:0 0 .6rem;
      font-size: 1.85rem;
      letter-spacing:-.35px;
    }
    .section-note{
      margin:0 0 2.2rem;
      color: var(--text-secondary);
      max-width: 74ch;
      line-height:1.65;
    }

    /* Projects */
    .project{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 2.2rem;
      padding-top: 2.4rem;
      margin-top: 2.4rem;
      border-top: 1px solid rgba(255,255,255,.10);
      align-items:center;
    }
    .project:first-of-type{
      margin-top: 0;
      padding-top: 0;
      border-top: none;
    }
    .project h3{
      margin:0 0 .45rem;
      font-size: 1.35rem;
      letter-spacing:-.2px;
    }
    .project p{
      margin: 0 0 1.2rem;
      color: var(--text-secondary);
      line-height:1.6;
    }
    .tags{
      display:flex;
      flex-wrap:wrap;
      gap:.5rem;
      margin: 0 0 1.2rem;
      padding:0;
    }
    .tag{
      padding: .35rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--text-muted);
      font-size:.82rem;
    }
    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:.7rem;
      align-items:center;
    }
    .chip{
      position:relative;
      padding: .64rem 1.05rem;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text-primary);
      text-decoration:none;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
      user-select:none;
      will-change: transform;
    }
    .chip:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 18px 60px rgba(0,0,0,.24);
    }
    .chip.primary{
      background: linear-gradient(135deg, rgba(99,102,241,.32), rgba(168,85,247,.26));
      border-color: rgba(255,255,255,.18);
    }

    /* Carousel (cinematic fade + phone frame) */
    .carousel{
      border-radius: var(--r-xl);
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow-soft);
      padding: 16px;
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
    }
    .carousel::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(900px at 20% 10%, rgba(99,102,241,.14), transparent 58%),
        radial-gradient(900px at 85% 75%, rgba(34,197,94,.10), transparent 58%),
        radial-gradient(900px at 55% 95%, rgba(168,85,247,.10), transparent 62%);
      opacity:.95;
      filter: blur(10px);
      pointer-events:none;
    }
    .carousel-inner{
      position:relative;
      display:grid;
      justify-items:center;
      gap: 12px;
    }
    .phone-frame{
      width: min(330px, 100%);
      aspect-ratio: 9 / 19.5;
      border-radius: 30px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(6,10,16,.75);
      box-shadow: 0 30px 90px rgba(0,0,0,.70),
                  inset 0 1px 0 rgba(255,255,255,.06);
      overflow:hidden;
      position:relative;
    }
    .phone-notch{
      position:absolute;
      top: 10px;
      left:50%;
      transform: translateX(-50%);
      width: 38%;
      height: 18px;
      border-radius: 0 0 14px 14px;
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
      z-index: 4;
    }
    .carousel-stage{
      position:absolute;
      inset:0;
      z-index:2;
    }
    .carousel-slide{
      position:absolute;
      inset:0;
      opacity:0;
      transform: scale(1.02);
      transition: opacity 820ms cubic-bezier(.2,.8,.2,1),
                  transform 980ms cubic-bezier(.2,.8,.2,1);
    }
    .carousel-slide.is-active{
      opacity:1;
      transform: scale(1);
    }
    .carousel-slide img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter: saturate(1.06) contrast(1.03);
      transform: translateZ(0);
    }
    .carousel-gloss{
      position:absolute;
      inset:-45% -20%;
      background: linear-gradient(120deg, rgba(255,255,255,.12), transparent 45%, rgba(255,255,255,.08));
      transform: translateX(-35%) rotate(10deg);
      opacity:.55;
      pointer-events:none;
      z-index:3;
      animation: gloss 5.8s ease-in-out infinite;
    }
    @keyframes gloss{
      0%{ transform: translateX(-38%) rotate(10deg); opacity:.46; }
      50%{ transform: translateX(18%) rotate(10deg); opacity:.66; }
      100%{ transform: translateX(-38%) rotate(10deg); opacity:.46; }
    }

    .carousel-meta{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .meta-pill{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(10,14,20,.55);
      backdrop-filter: blur(12px);
      color: rgba(243,244,246,.92);
      font-size:.82rem;
    }
    .progress{
      width: 140px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }
    .progress > span{
      display:block;
      height:100%;
      width:0%;
      background: rgba(255,255,255,.28);
      border-radius: 999px;
    }
    .controls{
      display:flex;
      gap: 8px;
      align-items:center;
    }
    .cbtn{
      width: 40px;
      height: 40px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,14,20,.55);
      backdrop-filter: blur(12px);
      color: rgba(243,244,246,.92);
      cursor:pointer;
      display:grid;
      place-items:center;
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
      user-select:none;
    }
    .cbtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.07);
      border-color: rgba(255,255,255,.22);
    }
    .dots{
      display:flex;
      gap: 6px;
      flex-wrap:wrap;
      justify-content:center;
      width:100%;
      padding: 2px 0;
    }
    .dot{
      width: 8px;
      height: 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      cursor:pointer;
      transition: width 220ms ease, background 220ms ease, border-color 220ms ease;
      padding:0;
    }
    .dot[aria-current="true"]{
      width: 22px;
      background: rgba(255,255,255,.28);
      border-color: rgba(255,255,255,.26);
    }

    /* Skills grid */
    .skills-grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.2rem;
    }
    .skill-card{
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(10,14,20,.45);
      backdrop-filter: blur(14px);
      padding: 1.1rem 1.1rem;
      box-shadow: 0 18px 55px rgba(0,0,0,.35);
      transition: transform 200ms ease, border-color 200ms ease, background 200ms ease;
      position:relative;
      overflow:hidden;
      transform-style: preserve-3d;
      will-change: transform;
    }
    .skill-card::after{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(700px at 20% 10%, rgba(99,102,241,.10), transparent 62%),
        radial-gradient(700px at 85% 85%, rgba(34,197,94,.08), transparent 62%);
      opacity:.85;
      pointer-events:none;
    }
    .skill-card > *{ position:relative; }
    .skill-card h4{
      margin:0 0 .35rem;
      font-size: 1rem;
      letter-spacing:.1px;
      transform: translateZ(10px);
    }
    .skill-card p{
      margin:0;
      color: var(--text-secondary);
      line-height:1.55;
      font-size:.95rem;
      transform: translateZ(6px);
    }

    /* Footer */
    footer{
      padding: 3.4rem 0 4.6rem;
      color: var(--text-muted);
      text-align:center;
      position:relative;
      z-index:1;
    }
    .plain-link{
      color: inherit;
      text-decoration:none;
    }
    .plain-link:hover{ text-decoration:underline; }

    /* Reveal */
    .reveal{
      opacity:0;
      transform: translateY(18px);
      transition: opacity 720ms cubic-bezier(.2,.8,.2,1),
                  transform 900ms cubic-bezier(.2,.8,.2,1);
      will-change: opacity, transform;
    }
    .reveal.is-in{
      opacity:1;
      transform: translateY(0);
    }
    .reveal[data-delay="1"]{ transition-delay: 90ms; }
    .reveal[data-delay="2"]{ transition-delay: 160ms; }
    .reveal[data-delay="3"]{ transition-delay: 230ms; }

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      .project{ grid-template-columns: 1fr; }
      .skills-grid{ grid-template-columns: 1fr; }
      .panel{ padding: 2.3rem 1.4rem; }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      .grain, .blob, .track, .mark::after, .btn.primary::after, .carousel-gloss{ animation:none !important; }
      .reveal{ transition:none; opacity:1; transform:none; }
      .carousel-slide{ transition:none; }
      .halo, .halo.big{ display:none; }
    }
  </style>
</head>

<body>
  <div class="aurora" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>
  <div class="grain" aria-hidden="true"></div>

  <div class="cursor-halo" aria-hidden="true">
    <div class="halo big" id="haloBig"></div>
    <div class="halo" id="haloSmall"></div>
  </div>

  <div class="wrap">
    <header>
      <div class="container">
        <nav>
          <a class="brand" href="#home" aria-label="Go to home">
            <span class="mark" aria-hidden="true"></span>
            <strong>Priya Taliyan</strong>
          </a>
          <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#projects">Projects</a>
            <a href="#skills">Skills</a>
            <a href="#contact">Contact</a>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <!-- HERO -->
      <section id="home" class="hero">
        <div class="container">
          <div class="hero-grid">
            <div>
              <p class="kicker reveal">Hello, I’m</p>
              <h1 class="headline reveal" data-delay="1">Priya</h1>
              <p class="subhead reveal" data-delay="2">
                <strong>Aspiring Mobile Application Developer</strong><br/>
                I build user-focused mobile applications with an emphasis on clarity, performance, and real-world usability.
              </p>

              <div class="cta-row reveal" data-delay="3">
                <a class="btn primary magnet" href="#projects">View My Work</a>
                <a class="btn magnet" href="#contact">Contact</a>
              </div>

              <div class="marquee reveal" data-delay="3" aria-label="Skills marquee">
                <div class="track" data-track>
                  <span class="pill"><span class="dotg"></span>Swift</span>
                  <span class="pill"><span class="dotg"></span>SwiftUI</span>
                  <span class="pill"><span class="dotg"></span>Kotlin</span>
                  <span class="pill"><span class="dotg"></span>Jetpack Compose</span>
                  <span class="pill"><span class="dotg"></span>React Native</span>
                  <span class="pill"><span class="dotg"></span>Firebase</span>
                  <span class="pill"><span class="dotg"></span>Auth</span>
                  <span class="pill"><span class="dotg"></span>Realtime DB</span>
                  <span class="pill"><span class="dotg"></span>Firestore</span>
                  <span class="pill"><span class="dotg"></span>TypeScript</span>
                  <span class="pill"><span class="dotg"></span>Security Rules</span>
                  <span class="pill"><span class="dotg"></span>CI/CD</span>

                  <span class="pill"><span class="dotg"></span>Swift</span>
                  <span class="pill"><span class="dotg"></span>SwiftUI</span>
                  <span class="pill"><span class="dotg"></span>Kotlin</span>
                  <span class="pill"><span class="dotg"></span>Jetpack Compose</span>
                  <span class="pill"><span class="dotg"></span>React Native</span>
                  <span class="pill"><span class="dotg"></span>Firebase</span>
                  <span class="pill"><span class="dotg"></span>Auth</span>
                  <span class="pill"><span class="dotg"></span>Realtime DB</span>
                  <span class="pill"><span class="dotg"></span>Firestore</span>
                  <span class="pill"><span class="dotg"></span>TypeScript</span>
                  <span class="pill"><span class="dotg"></span>Security Rules</span>
                  <span class="pill"><span class="dotg"></span>CI/CD</span>
                </div>
              </div>
            </div>

            <!-- AI Sphere -->
            <div class="sphere-card reveal" data-delay="2">
              <div class="sphere-top">
                <div>
                  <p class="sphere-title">Interactive AI Sphere</p>
                  <p class="sphere-sub">Mouse controls rotation. Click to pulse. Represents connected skills and systems.</p>
                </div>
                <div class="legend" aria-label="Legend">
                  <span><span class="key a" aria-hidden="true"></span>Mobile</span>
                  <span><span class="key b" aria-hidden="true"></span>Firebase</span>
                  <span><span class="key c" aria-hidden="true"></span>UI/UX</span>
                </div>
              </div>

              <div class="sphere-wrap">
                <canvas id="sphere" class="sphere-canvas" aria-label="Interactive 3D sphere canvas"></canvas>
                <div class="sphere-hint"><span class="spark" aria-hidden="true"></span>Move · Click · Drag</div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- PROJECTS -->
      <section id="projects">
        <div class="container">
          <div class="panel">
            <h2 class="section-title reveal">Projects</h2>
            <p class="section-note reveal" data-delay="1">
              Selected work with an emphasis on mobile UX, clean architecture, and Firebase-backed features.
            </p>

            <!-- Happy Steps -->
            <div class="project">
              <div class="reveal tilt">
                <h3>Happy Steps</h3>
                <p>Child-focused routine management app designed to encourage positive daily habits.</p>
                <div class="tags">
                  <span class="tag">React Native</span>
                  <span class="tag">iOS</span>
                  <span class="tag">Android</span>
                </div>
                <div class="actions">
                  <a class="chip primary magnet" href="https://apps.apple.com/se/app/happy-steps/id6755143766" target="_blank" rel="noreferrer"> App Store</a>
                </div>
              </div>

              <div class="reveal" data-delay="1">
                <div class="carousel" data-carousel data-autoplay="true" data-interval="5200" aria-label="Happy Steps screenshots" tabindex="0">
                  <div class="carousel-inner">
                    <div class="phone-frame">
                      <div class="phone-notch"></div>
                      <div class="carousel-stage">
                        <div class="carousel-slide is-active"><img src="images/happystep1.jpeg" alt="Happy Steps screenshot 1" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/happystep2.jpeg" alt="Happy Steps screenshot 2" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/happystep3.jpeg" alt="Happy Steps screenshot 3" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/happystep4.jpeg" alt="Happy Steps screenshot 4" loading="lazy"></div>
                      </div>
                      <div class="carousel-gloss"></div>
                    </div>

                    <div class="carousel-meta">
                      <div class="meta-pill">
                        <span data-counter>01 / 04</span>
                        <div class="progress" aria-hidden="true"><span data-progress></span></div>
                      </div>
                      <div class="controls">
                        <button class="cbtn" type="button" data-prev aria-label="Previous slide">‹</button>
                        <button class="cbtn" type="button" data-next aria-label="Next slide">›</button>
                      </div>
                    </div>

                    <div class="dots" data-dots></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Commuvia -->
            <div class="project">
              <div class="reveal tilt">
                <h3>Commuvia</h3>
                <p>Location-based ride-sharing iOS application for nearby carpooling.</p>
                <div class="tags">
                  <span class="tag">Swift</span>
                  <span class="tag">SwiftUI</span>
                  <span class="tag">iOS</span>
                </div>
                <div class="actions">
                  <a class="chip primary magnet" href="https://apps.apple.com/se/app/commuvia/id6758559634?l=en-GB" target="_blank" rel="noreferrer"> App Store</a>
                </div>
              </div>

              <div class="reveal" data-delay="1">
                <div class="carousel" data-carousel data-autoplay="true" data-interval="5200" aria-label="Commuvia screenshots" tabindex="0">
                  <div class="carousel-inner">
                    <div class="phone-frame">
                      <div class="phone-notch"></div>
                      <div class="carousel-stage">
                        <div class="carousel-slide is-active"><img src="images/commuvia1.jpeg" alt="Commuvia screenshot 1" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/commuvia2.jpeg" alt="Commuvia screenshot 2" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/commuvia3.jpeg" alt="Commuvia screenshot 3" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/commuvia4.jpeg" alt="Commuvia screenshot 4" loading="lazy"></div>
                      </div>
                      <div class="carousel-gloss"></div>
                    </div>

                    <div class="carousel-meta">
                      <div class="meta-pill">
                        <span data-counter>01 / 04</span>
                        <div class="progress" aria-hidden="true"><span data-progress></span></div>
                      </div>
                      <div class="controls">
                        <button class="cbtn" type="button" data-prev aria-label="Previous slide">‹</button>
                        <button class="cbtn" type="button" data-next aria-label="Next slide">›</button>
                      </div>
                    </div>

                    <div class="dots" data-dots></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Triple Treat -->
            <div class="project">
              <div class="reveal tilt">
                <h3>Triple Treat</h3>
                <p>Cloud kitchen management app focusing on orders, inventory, and kitchen workflows.</p>
                <div class="tags">
                  <span class="tag">Swift</span>
                  <span class="tag">Firebase</span>
                  <span class="tag">Realtime Database</span>
                </div>
                <div class="actions">
                  <span class="chip" role="text">Group Project</span>
                </div>
              </div>

              <div class="reveal" data-delay="1">
                <div class="carousel" data-carousel data-autoplay="true" data-interval="5200" aria-label="Triple Treat screenshots" tabindex="0">
                  <div class="carousel-inner">
                    <div class="phone-frame">
                      <div class="phone-notch"></div>
                      <div class="carousel-stage">
                        <div class="carousel-slide is-active"><img src="images/teiple1.png" alt="Triple Treat screenshot 1" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/triple.png" alt="Triple Treat screenshot 2" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/triple111.png" alt="Triple Treat screenshot 3" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/triple3.png" alt="Triple Treat screenshot 4" loading="lazy"></div>
                        <div class="carousel-slide"><img src="images/triple4.png" alt="Triple Treat screenshot 5" loading="lazy"></div>
                      </div>
                      <div class="carousel-gloss"></div>
                    </div>

                    <div class="carousel-meta">
                      <div class="meta-pill">
                        <span data-counter>01 / 05</span>
                        <div class="progress" aria-hidden="true"><span data-progress></span></div>
                      </div>
                      <div class="controls">
                        <button class="cbtn" type="button" data-prev aria-label="Previous slide">‹</button>
                        <button class="cbtn" type="button" data-next aria-label="Next slide">›</button>
                      </div>
                    </div>

                    <div class="dots" data-dots></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- SKILLS -->
      <section id="skills">
        <div class="container">
          <div class="panel">
            <h2 class="section-title reveal">Skills</h2>
            <p class="section-note reveal" data-delay="1">
              Practical skills focused on shipping real mobile apps with reliable authentication, data flows, and polished UI.
            </p>

            <div class="skills-grid">
              <div class="skill-card reveal tilt">
                <h4>iOS Development</h4>
                <p>Swift, SwiftUI, app architecture, navigation, performance, App Store readiness.</p>
              </div>
              <div class="skill-card reveal tilt" data-delay="1">
                <h4>Android Development</h4>
                <p>Kotlin, Jetpack Compose, state management, modern UI patterns.</p>
              </div>
              <div class="skill-card reveal tilt" data-delay="2">
                <h4>Firebase & Backend</h4>
                <p>Auth, Realtime Database/Firestore, security rules, role-based access, data modeling.</p>
              </div>
              <div class="skill-card reveal tilt">
                <h4>Cross-Platform</h4>
                <p>React Native, TypeScript, reusable components, consistent UX across devices.</p>
              </div>
              <div class="skill-card reveal tilt" data-delay="1">
                <h4>Quality & Delivery</h4>
                <p>Debugging, build pipelines, release checklists, documentation, iteration.</p>
              </div>
              <div class="skill-card reveal tilt" data-delay="2">
                <h4>Product Thinking</h4>
                <p>User-focused design, clarity in flows, real-world constraints, accessibility basics.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact">
        <div class="container">
          <div class="panel">
            <h2 class="section-title reveal">Contact</h2>
            <p class="section-note reveal" data-delay="1">
              Open to LIA/internship opportunities and junior mobile roles.
            </p>

            <div class="reveal" data-delay="2" style="display:flex; flex-wrap:wrap; gap:.8rem; align-items:center;">
              <a class="chip primary magnet" href="mailto:chaudharypia94@gmail.com">Email</a>
              <a class="chip magnet" href="https://www.linkedin.com/in/priya-taliyan-348667308/" target="_blank" rel="noreferrer">LinkedIn</a>
              <a class="chip magnet" href="https://github.com/Taliyangithub/" target="_blank" rel="noreferrer">GitHub</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <p><a class="plain-link" href="mailto:chaudharypia94@gmail.com">chaudharypia94@gmail.com</a></p>
        <p>
          <a class="plain-link" href="https://www.linkedin.com/in/priya-taliyan-348667308/" target="_blank" rel="noreferrer">LinkedIn</a>
          ·
          <a class="plain-link" href="https://github.com/Taliyangithub/" target="_blank" rel="noreferrer">GitHub</a>
        </p>
      </div>
    </footer>
  </div>

  <script>
    (function () {
      const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      // Cursor halo
      const haloSmall = document.getElementById("haloSmall");
      const haloBig = document.getElementById("haloBig");
      let hx = window.innerWidth * 0.5;
      let hy = window.innerHeight * 0.5;
      let bx = hx;
      let by = hy;

      function setHaloOpacity(on) {
        if (!haloSmall || !haloBig) return;
        haloSmall.style.opacity = on ? "1" : "0";
        haloBig.style.opacity = on ? "1" : "0";
      }

      if (!prefersReduced && haloSmall && haloBig) {
        setHaloOpacity(true);

        window.addEventListener("pointermove", (e) => {
          hx = e.clientX;
          hy = e.clientY;
        }, { passive: true });

        const interactiveSelectors = "a, button, .magnet, .tilt, canvas";
        window.addEventListener("pointerover", (e) => {
          if (e.target && e.target.closest && e.target.closest(interactiveSelectors)) {
            haloSmall.style.opacity = "1";
            haloBig.style.opacity = "1";
          }
        }, { passive: true });

        function animateHalo() {
          bx += (hx - bx) * 0.12;
          by += (hy - by) * 0.12;

          haloSmall.style.left = hx + "px";
          haloSmall.style.top = hy + "px";
          haloBig.style.left = bx + "px";
          haloBig.style.top = by + "px";

          requestAnimationFrame(animateHalo);
        }
        requestAnimationFrame(animateHalo);
      }

      // Reveal
      const reveals = Array.from(document.querySelectorAll(".reveal"));
      if (!prefersReduced && "IntersectionObserver" in window) {
        const io = new IntersectionObserver((entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("is-in");
              io.unobserve(e.target);
            }
          });
        }, { threshold: 0.12 });
        reveals.forEach((el) => io.observe(el));
      } else {
        reveals.forEach((el) => el.classList.add("is-in"));
      }

      // Magnetic effect
      function initMagnet(el) {
        let rect = null;

        function onMove(e) {
          rect = rect || el.getBoundingClientRect();
          const x = e.clientX - (rect.left + rect.width / 2);
          const y = e.clientY - (rect.top + rect.height / 2);
          const mx = x * 0.18;
          const my = y * 0.18;
          el.style.transform = "translate3d(" + mx + "px," + my + "px,0)";
        }

        function onEnter() {
          rect = el.getBoundingClientRect();
          el.style.transition = "transform 120ms ease";
        }

        function onLeave() {
          el.style.transition = "transform 220ms ease";
          el.style.transform = "translate3d(0,0,0)";
          rect = null;
        }

        el.addEventListener("pointerenter", onEnter);
        el.addEventListener("pointermove", onMove);
        el.addEventListener("pointerleave", onLeave);
      }

      if (!prefersReduced) {
        document.querySelectorAll(".magnet").forEach(initMagnet);
      }

      // 3D tilt on cards
      function initTilt(el) {
        let rect = null;
        const max = 9;

        function onEnter() {
          rect = el.getBoundingClientRect();
          el.style.transition = "transform 120ms ease";
        }

        function onMove(e) {
          if (!rect) rect = el.getBoundingClientRect();
          const px = (e.clientX - rect.left) / rect.width;
          const py = (e.clientY - rect.top) / rect.height;
          const rx = (py - 0.5) * -max;
          const ry = (px - 0.5) * max;
          el.style.transform = "perspective(900px) rotateX(" + rx + "deg) rotateY(" + ry + "deg) translateZ(0)";
        }

        function onLeave() {
          el.style.transition = "transform 240ms ease";
          el.style.transform = "perspective(900px) rotateX(0deg) rotateY(0deg)";
          rect = null;
        }

        el.addEventListener("pointerenter", onEnter);
        el.addEventListener("pointermove", onMove);
        el.addEventListener("pointerleave", onLeave);
      }

      if (!prefersReduced) {
        document.querySelectorAll(".tilt").forEach(initTilt);
      }

      // Carousel (cross-fade + progress)
      function pad2(n) {
        const s = String(n);
        return s.length === 1 ? "0" + s : s;
      }

      function initCarousel(root) {
        const slides = Array.from(root.querySelectorAll(".carousel-slide"));
        const prevBtn = root.querySelector("[data-prev]");
        const nextBtn = root.querySelector("[data-next]");
        const dotsWrap = root.querySelector("[data-dots]");
        const counterEl = root.querySelector("[data-counter]");
        const progressEl = root.querySelector("[data-progress]");

        let index = 0;
        const autoplay = root.getAttribute("data-autoplay") === "true" && !prefersReduced;
        const interval = Number(root.getAttribute("data-interval") || 5200);
        let timer = null;

        function buildDots() {
          if (!dotsWrap) return;
          dotsWrap.innerHTML = "";
          slides.forEach((_, i) => {
            const b = document.createElement("button");
            b.type = "button";
            b.className = "dot";
            b.setAttribute("aria-label", "Go to slide " + (i + 1));
            b.addEventListener("click", () => setActive(i, true));
            dotsWrap.appendChild(b);
          });
        }

        function syncDots() {
          if (!dotsWrap) return;
          const dots = Array.from(dotsWrap.querySelectorAll(".dot"));
          dots.forEach((d, i) => d.setAttribute("aria-current", i === index ? "true" : "false"));
        }

        function setCounter() {
          const total = slides.length;
          if (counterEl) counterEl.textContent = pad2(index + 1) + " / " + pad2(total);
        }

        function startProgress() {
          if (!progressEl) return;
          progressEl.style.transition = "none";
          progressEl.style.width = "0%";
          void progressEl.offsetWidth;
          progressEl.style.transition = "width " + interval + "ms linear";
          progressEl.style.width = "100%";
        }

        function setActive(i, userAction) {
          index = (i + slides.length) % slides.length;
          slides.forEach((s, idx) => {
            if (idx === index) s.classList.add("is-active");
            else s.classList.remove("is-active");
          });
          setCounter();
          syncDots();
          if (autoplay) startProgress();
          if (userAction) restartAutoplay();
        }

        function stopAutoplay() {
          if (timer) window.clearInterval(timer);
          timer = null;
          if (progressEl) {
            progressEl.style.transition = "none";
            progressEl.style.width = "0%";
          }
        }

        function startAutoplay() {
          if (!autoplay) return;
          stopAutoplay();
          startProgress();
          timer = window.setInterval(() => {
            setActive(index + 1, false);
          }, interval);
        }

        function restartAutoplay() {
          if (!autoplay) return;
          startAutoplay();
        }

        prevBtn && prevBtn.addEventListener("click", () => setActive(index - 1, true));
        nextBtn && nextBtn.addEventListener("click", () => setActive(index + 1, true));

        root.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") setActive(index - 1, true);
          if (e.key === "ArrowRight") setActive(index + 1, true);
        });

        root.addEventListener("mouseenter", stopAutoplay);
        root.addEventListener("mouseleave", startAutoplay);
        root.addEventListener("focusin", stopAutoplay);
        root.addEventListener("focusout", startAutoplay);

        let down = false;
        let startX = 0;
        const threshold = 44;

        function onDown(x) { down = true; startX = x; stopAutoplay(); }
        function onUp(x) {
          if (!down) return;
          down = false;
          const dx = x - startX;
          if (Math.abs(dx) > threshold) setActive(index + (dx < 0 ? 1 : -1), true);
          else startAutoplay();
        }

        root.addEventListener("mousedown", (e) => onDown(e.clientX));
        window.addEventListener("mouseup", (e) => onUp(e.clientX));

        root.addEventListener("touchstart", (e) => {
          if (e.touches && e.touches[0]) onDown(e.touches[0].clientX);
        }, { passive: true });

        root.addEventListener("touchend", (e) => {
          const t = (e.changedTouches && e.changedTouches[0]) ? e.changedTouches[0] : null;
          onUp(t ? t.clientX : startX);
        });

        buildDots();
        setActive(0, false);
        startAutoplay();
      }

      document.querySelectorAll("[data-carousel]").forEach(initCarousel);

      // Interactive 3D Sphere (canvas, no libraries)
      const canvas = document.getElementById("sphere");
      if (!canvas) return;

      const ctx = canvas.getContext("2d", { alpha: true });
      const DPR = Math.min(2, window.devicePixelRatio || 1);

      function resizeCanvas() {
        const r = canvas.getBoundingClientRect();
        canvas.width = Math.max(1, Math.floor(r.width * DPR));
        canvas.height = Math.max(1, Math.floor(r.height * DPR));
      }
      resizeCanvas();
      window.addEventListener("resize", resizeCanvas, { passive: true });

      const state = {
        rx: 0.0,
        ry: 0.0,
        targetRx: 0.0,
        targetRy: 0.0,
        drag: false,
        lastX: 0,
        lastY: 0,
        pulse: 0,
        mx: 0,
        my: 0
      };

      const points = [];
      const pointCount = 220;

      function randSphere() {
        const u = Math.random();
        const v = Math.random();
        const theta = 2 * Math.PI * u;
        const phi = Math.acos(2 * v - 1);
        const x = Math.sin(phi) * Math.cos(theta);
        const y = Math.cos(phi);
        const z = Math.sin(phi) * Math.sin(theta);
        return { x, y, z };
      }

      const groups = [
        { name: "Mobile",   color: [99,102,241], weight: 0.38 },
        { name: "Firebase", color: [34,197,94],  weight: 0.32 },
        { name: "UI",       color: [168,85,247], weight: 0.30 }
      ];

      function pickGroup() {
        const r = Math.random();
        let acc = 0;
        for (const g of groups) {
          acc += g.weight;
          if (r <= acc) return g;
        }
        return groups[0];
      }

      for (let i = 0; i < pointCount; i++) {
        const p = randSphere();
        const g = pickGroup();
        points.push({
          x: p.x, y: p.y, z: p.z,
          vx: (Math.random() - 0.5) * 0.0005,
          vy: (Math.random() - 0.5) * 0.0005,
          vz: (Math.random() - 0.5) * 0.0005,
          c: g.color,
          r: 1.0 + Math.random() * 1.6
        });
      }

      function rotY(p, a) {
        const s = Math.sin(a), c = Math.cos(a);
        return { x: p.x * c + p.z * s, y: p.y, z: -p.x * s + p.z * c };
      }
      function rotX(p, a) {
        const s = Math.sin(a), c = Math.cos(a);
        return { x: p.x, y: p.y * c - p.z * s, z: p.y * s + p.z * c };
      }

      function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }

      function draw() {
        const w = canvas.width, h = canvas.height;
        ctx.clearRect(0, 0, w, h);

        const cx = w * 0.5;
        const cy = h * 0.5;
        const baseRadius = Math.min(w, h) * 0.28;

        // Smoothly approach target rotation
        state.rx += (state.targetRx - state.rx) * 0.08;
        state.ry += (state.targetRy - state.ry) * 0.08;

        // Ambient rotation
        state.ry += 0.0012;
        state.rx += 0.0007;

        // Pulse damping
        state.pulse *= 0.92;

        // Projected points buffer
        const proj = [];

        const perspective = 2.6;
        const glow = 0.8 + state.pulse * 0.9;

        for (const p of points) {
          // Small internal drift to feel alive
          p.x = clamp(p.x + p.vx, -1.1, 1.1);
          p.y = clamp(p.y + p.vy, -1.1, 1.1);
          p.z = clamp(p.z + p.vz, -1.1, 1.1);

          let q = rotY(p, state.ry);
          q = rotX(q, state.rx);

          const z = q.z + perspective;
          const s = 1 / z;

          const x2 = cx + q.x * baseRadius * s;
          const y2 = cy + q.y * baseRadius * s;

          const depth = clamp((q.z + 1.2) / 2.4, 0, 1);
          const alpha = 0.18 + depth * 0.78;

          proj.push({
            x: x2,
            y: y2,
            z: q.z,
            s,
            depth,
            alpha,
            c: p.c,
            r: p.r
          });
        }

        // Sort by depth for nicer compositing
        proj.sort((a, b) => a.z - b.z);

        // Connections
        ctx.save();
        ctx.lineWidth = 1 * DPR;
        for (let i = 0; i < proj.length; i++) {
          const a = proj[i];
          for (let j = i + 1; j < proj.length; j++) {
            const b = proj[j];
            const dx = a.x - b.x;
            const dy = a.y - b.y;
            const d2 = dx * dx + dy * dy;

            // Distance threshold in screen space
            const maxD = (baseRadius * 0.26) * (baseRadius * 0.26);
            if (d2 > maxD) continue;

            const dist = Math.sqrt(d2);
            const t = 1 - (dist / (baseRadius * 0.26));
            const aAlpha = (0.06 + t * 0.22) * (0.55 + a.depth * 0.55) * glow;

            ctx.strokeStyle = "rgba(255,255,255," + aAlpha.toFixed(4) + ")";
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }
        ctx.restore();

        // Outer aura ring
        ctx.save();
        ctx.globalCompositeOperation = "screen";
        const grad = ctx.createRadialGradient(cx, cy, baseRadius * 0.25, cx, cy, baseRadius * 1.08);
        grad.addColorStop(0, "rgba(99,102,241,0.00)");
        grad.addColorStop(0.45, "rgba(99,102,241,0.10)");
        grad.addColorStop(0.72, "rgba(168,85,247,0.10)");
        grad.addColorStop(1, "rgba(34,197,94,0.00)");
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(cx, cy, baseRadius * 1.05, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();

        // Points
        for (const p of proj) {
          const [r, g, b] = p.c;
          const radius = (p.r + p.depth * 1.6) * DPR * (0.9 + state.pulse * 0.25);
          const a = p.alpha * (0.70 + p.depth * 0.35) * glow;

          // Glow
          ctx.save();
          ctx.globalCompositeOperation = "screen";
          ctx.fillStyle = "rgba(" + r + "," + g + "," + b + "," + (a * 0.22).toFixed(4) + ")";
          ctx.beginPath();
          ctx.arc(p.x, p.y, radius * 3.2, 0, Math.PI * 2);
          ctx.fill();
          ctx.restore();

          // Core
          ctx.fillStyle = "rgba(" + r + "," + g + "," + b + "," + a.toFixed(4) + ")";
          ctx.beginPath();
          ctx.arc(p.x, p.y, radius, 0, Math.PI * 2);
          ctx.fill();
        }

        requestAnimationFrame(draw);
      }

      if (!prefersReduced) {
        requestAnimationFrame(draw);
      }

      // Mouse controls: hover influences target rotation
      function normFromEvent(e) {
        const rect = canvas.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;
        const y = (e.clientY - rect.top) / rect.height;
        return { x: (x - 0.5) * 2, y: (y - 0.5) * 2 };
      }

      canvas.addEventListener("pointermove", (e) => {
        const n = normFromEvent(e);
        if (!state.drag) {
          state.targetRy = n.x * 0.9;
          state.targetRx = -n.y * 0.6;
        } else {
          const dx = e.clientX - state.lastX;
          const dy = e.clientY - state.lastY;
          state.targetRy += dx * 0.0032;
          state.targetRx += dy * 0.0026;
          state.lastX = e.clientX;
          state.lastY = e.clientY;
        }
      }, { passive: true });

      canvas.addEventListener("pointerdown", (e) => {
        state.drag = true;
        state.lastX = e.clientX;
        state.lastY = e.clientY;
        canvas.setPointerCapture(e.pointerId);
        state.pulse = 1.0;
      });

      canvas.addEventListener("pointerup", (e) => {
        state.drag = false;
        try { canvas.releasePointerCapture(e.pointerId); } catch (_) {}
      });

      canvas.addEventListener("click", () => {
        state.pulse = 1.2;
      });

    })();
  </script>
</body>
</html>
